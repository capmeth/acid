---
title: Markdown Notes
---


ACID uses the [Takedown] parser for converting markdown content into HTML.

Most HTML generation is left standard, but ACID does manipulate the output on some elements to achieve its feature set.

- **Front-matter is enabled and parsed as YAML**  
  Some [document-specific config settings](/document/reference-markdown) are available here.

- **Fenced code blocks are controlled**  
  These blocks are replaced with [**Editor**](/component/stable-common-editor) components for code highlighting and editing.

- **HTML IDs are added to header elements**  
  This is used for rendering a table of contents (in applicable contexts).

- **Header elements share a common class**  
  The CSS classname `hx` is added to every markdown generated header.

- **HTML from a markdown document is compiled as a component**  
  Svelte components can be embedded in the content, and, to a limited degree, Svelte template syntax can be used throughout the content itself.

Here's a [quick reference](https://commonmark.org/help/) page and a [tutorial](https://commonmark.org/help/tutorial/) to help you learn how to use markdown.


# Non-Document Content

Features are limited for markdown parsed content like descriptions and deprecation messages.

- Headers are suppressed and rendered as `<div>` elements with an *hX* classname.
- Characters used for thematic breaks are rendered literally (not as `<hr>` elements).
- Fenced code blocks render as normal `<pre><code>` blocks (not as CoBE components).
- Svelte components cannot be embedded in the content.

Importantly, these elements are **not** compiled as components so Svelte features in general will not be available.


# Internal Hyperlinking

When `config.routing` is set to "hash", links that point to docsite pages are captured and adjusted to work with the router.  This simply means the hasmark is prepended to the route path.

This feature simply makes sure links don't have to be changed if the routing type changes.

Targeted routes for this feature include:

- `home`
- `section/[name]`: where `[name]` is the name of a section
- `document/[uid]`: where `[uid]` is the asset id of a document
- `component/[uid]`: where `[uid]` is the asset id of a component
- `catalog`

Section names and asset UIDs are defined or generated by the `config.sections` and `config.toAssetId` options, respectively.


# The Document Component

After being parsed into HTML, markdown files are then compiled into Svelte components.

While being a great feature for ACID to have, the implementation at this time is unsophisticated.  Specifically, the markdown parser (Takedown) can potentially butcher code that you intended for the compiler (Svelte). 

As per the CommonMark spec, `<script>` and `<style>` block tags are amongst those to be left unmolested by a markdown parser.  So you won't have any problem using these to create variables or functions and injecting CSS from within the markdown.

```md label="example"
<script>
let myVar = "some value";
let myFunc = str => `Your data is ${str}.` 
<script>

<style>
.greenery
{
    background-color: green;
    margin: auto;
    width: 50%;
}
</style>
```

However, when it comes to using expressions within the markdown content - which is effectively the template of the component to be compiled - things get a bit more sticky.

Outside of a `<script>` tag, the compiler works primarily off of brace enclosures to get its directives and evaulate JS expressions.  The parser has no particular interest in the braces themselves, but it does have a mandate to convert content, even within those braces, into a browser-consumable format.  And the results of this conversion may not sit well with the compiler...

Therefore, when inside braces you generally must be careful not to do things that could be interpreted as markdown entities like enclosing words in stars (`*`) for emphasis and bold or making a bracket access function call on an object (which would be interpreted as a link).

In addition, double-quotes and angle-brackets will be converted to HTML entities.  Backticks can be converted to `<code>` tags. Etc.

There are many pitfalls as this combined syntax can get messy. In general, prefer to do your coding in the `<script>` tag while avoiding doing much more than simple variable access in braced expressions.  Having character-complicated code sitting out in the wild of the markdown content will probably result in a barfing compiler.

> Fenced code blocks are not affected by this, as they are extracted from the document before compiling.

At some point, the need for better integration between markdown and Svelte may become a necessity, but for now, this is as good as it gets.

Oh, also...

There may be times when you just want a literal brace in your code without a scolding from the compiler.  This can be had by svelte-escaping the brace.

For example

```md
*Escape the {'{'} braces {'}'}.*
```

gives you, *Escape the {'{'} braces {'}'}.* 

Note the use of single-quotes here.  Double-quotes or tick-quotes will give you trouble.

You can also elect to have all braces in the document automatcally escaped via the `escapeBraces` front-matter flag (see [Markdown Options](/document/reference-markdown)).  Of course, doing this will limit Svelte usability even further.
